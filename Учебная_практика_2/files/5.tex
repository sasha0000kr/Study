\chapter{ВЫПОЛНЕНИЕ ЗАДАНИЯ}
Необходимо разработать программу для ПЛК для управления автоматизированной
установкой в соответствии с описанием ее работы.

\textbf{Цель} --- Сделать программу для управления автоматизированной установкой в соответствии с описанием ее работы.

При выполнении ставятся следующие задачи:
\begin{enumerate}
    \item Внимательно ознакомиться с заданием
    \item Изучить алгоритм работы установки
    \item Изучить электрическую схему подключения
    \item Изучить пневматическую схему подключения
    \item Определить сигналы для выполнения исполнительных элементов
    \item Создать программу для управления установкой
\end{enumerate}

Автоматическая установка состоит из трех пневматических цилиндров, шести
датчиков положения (герконы), одного двигателя постоянного тока и световой
колонны. Всеми перемещениями механизмов и индикацией световой колонны
управляет ПЛК (программируемый логический контроллер/программируемое
реле). Используется ПЛК ОВЕН ПР200-24 1.X.
Для реализации панели оператора используется встроенный scada система.

\section{Виртуальная панель оператора}
Виртуальная панель оператора в scada системе представлена на рисунке \ref{fig:scada_panel}.
\begin{figure}[hb]
    \centering
    \includegraphics[scale=0.30]{fig/4.1.jpg}
    \caption{Виртуальная панель оператора}
    \label{fig:scada_panel}
\end{figure}

\section{Описание клавиш панели оператора}
\begin{enumerate}
    \item F1 -- аварийный останов (1 – активация)
    \item F2 -- ручной/авто (0 – ручной, 1 – автоматический)
    \item F3 -- старт (авто) / движение выбранного цилиндра (ручной)
    \item F4 -- движение выбранного цилиндра (ручной)
    \item С1 -- выбор цилиндра 1 (ручной)
    \item С2 -- выбор цилиндра 2 (ручной)
    \item С3 -- выбор цилиндра 3 (ручной)
    \item С4 -- включение двигателя (ручной)
\end{enumerate}

Из кнопок F1, F2, С1, С2, С3, С4 необходимо сделать переключатели
программным способом.

\section{Условия запуска установки}
\begin{itemize}
    \item Штекер вставлен в розетку и ручной пневматический клапан открыт для подачи воздуха в систему.
    \item Все компоненты должны оставаться в своих стартовых позициях, цилиндры 1, 2 и 3 втянуты, двигатель выключен.
    \item Выбор режима работы автоматический/ручной может быть осуществлен переключателем F2.
    \item Установка начинает свою работу только если кнопка аварийного останова F1 не активирована.
\end{itemize}

\section{Аварийный останов}
В любой момент, при нажатии кнопки аварийного останова F1 прерывается
работа всех механизмов (цилиндры 1 и 2 втягиваются, цилиндр 3 остается в
текущем положении, двигатель выключается), механизмы не реагируют на
нажатия кнопок F2, F3, F4, С1, С2, С3, С4. Непрерывно горит красный
сигнал световой колонны. На виртуальном экране ПЛК отображается
актуальная информация о режиме и состояниях (ON/OFF) программных
переключателей F1, F2, С1, С2, С3, С4 на мигающем с частотой 1 Гц
красном фоне в формате, представленном на рисунке \ref{fig:alert_screen}.
Реализация режима представлена на рисунке \ref{fig:alert_mode}.
\begin{figure}[pt]
    \centering
    \includegraphics[scale=0.5]{fig/alert_mode.pdf}
    \caption{Программа режима останова}
    \label{fig:alert_mode}
\end{figure}

\begin{figure}[pb]
    \centering
    \includegraphics[scale=0.30]{fig/4.1.jpg}
    \caption{Экран режима аварийного останова}
    \label{fig:alert_screen}
\end{figure}


\newpage
\section{Автоматический режим}
Начальные условия: Цилиндры 1, 2 и 3 в стартовых позициях, двигатель
выключен. Переключатель F2 включен. Готовность системы к работе в
автоматическом режиме отображается миганием зеленого сигнала световой
колонны (~ 1 Гц).

Нажатие кнопки F3 запускает автоматический цикл:
\begin{enumerate}
    \item Зеленый сигнал световой колонны загорается непрерывно, включается двигатель и запускается таймер на 4 секунды
    \item Через 4 секунды цилиндр 3 выдвигается (засверливание первого отверстия)
    \item Когда цилиндр 3 выдвинут (3B2) цилиндр 1 выдвигается
    \item Когда цилиндр 1 выдвинут (1В2) цилиндр 3 втягивается
    \item Когда цилиндр 3 втянут (3B1) цилиндр 2 выдвигается
    \item Когда цилиндр 2 выдвинут (2В2) цилиндр 3 выдвигается (засверливание второго отверстия)
    \item Когда цилиндр 3 выдвинут (3B2) цилиндр 1 втягивается
    \item Когда цилиндр 1 втянут (1В1) цилиндр 3 втягивается
    \item Когда цилиндр 3 втянут (3B1) двигатель выключается, цилиндр 2 втягивается
    \item Когда цилиндр 2 втянут (2B1) зеленый сигнал световой колонны начинает мигать (~ 1 Гц). Автоматический цикл закончен.
\end{enumerate}

На виртуальном экране ПЛК отображается актуальная информация о
режиме и состояниях (ON/OFF) программных переключателей F1, F2, С1, С2,
С3, С4 на белом фоне в формате, представленном на рисунке \ref{fig:auto_screen}.
Реализация режима представлена на рисунке \ref{fig:auto_mode}.

\begin{figure}[pt]
    \centering
    \includegraphics[scale=0.5]{fig/auto_mode.pdf}
    \caption{Программа автоматического режима}
    \label{fig:auto_mode}
\end{figure}

\begin{figure}[pb]
    \centering
    \includegraphics[scale=0.30]{fig/4.1.jpg}
    \caption{Экран автоматического режима}
    \label{fig:auto_screen}
\end{figure}


\newpage
\section{Ручной режим}
Начальные условия: Цилиндры 1, 2 и 3 в стартовых позициях, двигатель
выключен. Переключатель F2 выключен. Готовность системы к работе в ручном
режиме отображается непрерывно горящем желтым сигналом световой колонны.
В данном режиме перемещения механизмов независимы друг от друга и не
связаны циклической последовательностью действий.

\begin{itemize}
    \item Условие: переключатель C1 включен. При нажатии кнопки F3 цилиндр 1 выдвигается.
    \item Условие: переключатель C1 включен. При нажатии кнопки F4 цилиндр 1 втягивается.
    \item Условие: переключатель C2 включен. При нажатии кнопки F3 цилиндр 2 выдвигается.
    \item Условие: переключатель C2 включен. При нажатии кнопки F4 цилиндр 2 втягивается.
    \item Условие: переключатель C3 включен. При нажатии кнопки F3 цилиндр 3 выдвигается.
    \item Условие: переключатель C3 включен. При нажатии кнопки F4 цилиндр 3 втягивается.
    \item При включении переключателя C4 включается двигатель. К желтому сигналу светофора добавляется мигающий зеленый сигнал (1 Гц). Выключение переключателя C4 выключает двигатель.
\end{itemize}

На виртуальном экране ПЛК отображается актуальная информация о
режиме и состояниях (ON/OFF) программных переключателей F1, F2, С1, С2,
С3, С4 на желтом фоне в формате, представленном на рисунке \ref{fig:manual_screen}.
Реализация режима представлена на рисунке \ref{fig:manual_mode}.

\begin{figure}[pt]
    \centering
    \includegraphics[scale=0.5]{fig/auto_mode.pdf}
    \caption{Программа ручного режима}
    \label{fig:manual_mode}
\end{figure}

\begin{figure}[pb]
    \centering
    \includegraphics[scale=0.30]{fig/4.1.jpg}
    \caption{Экран ручного режима}
    \label{fig:manual_screen}
\end{figure}





%\input{files/ass1.tex}
%\input{files/ass2.tex}
%\input{files/ass3.tex}
